{% extends "layout.htm" %}
{% block content %}
<div id="booking"></div>
<div id="calendar"></div>
<script>

function loadBookingForm(date) {
    $.get('/booking', function(data) {
            $('#booking').html(data);
        });
}

$(document).ready(function() {

    $('#calendar').fullCalendar({
    dayClick: function(date, allDay, jsEvent, view) {

            if (allDay) {
                $('#calendar').fullCalendar('changeView', 'agendaDay');
                $('#calendar').fullCalendar('gotoDate', date);
            }else{
                loadBookingForm(date);
            }

    },
    header: {
        left: 'prev,next today',
        center: 'title',
        right: 'month,agendaWeek,agendaDay'
    },
    defaultView: 'agendaWeek',
    minTime: 8,
    aspectRatio: 1,
})

});
</script>
{% endblock %}
